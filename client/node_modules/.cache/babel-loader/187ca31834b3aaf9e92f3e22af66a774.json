{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/chichi/Desktop/cs411-project1/client/src/components/Question/Question.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport SearchBox from '../Home/SearchBox/SearchBox';\nimport { Link } from 'react-router-dom';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport './Question.css';\nlet socket;\n\nconst Question = ({\n  location\n}) => {\n  _s();\n\n  const {\n    id\n  } = queryString.parse(location.search);\n  const ENDPOINT = 'localhost:5000';\n  const [question, setQuestion] = useState({});\n  const [answers, setAnswers] = useState([]);\n  const [answer, setAnswer] = useState('');\n  const [user, setUser] = useState('');\n  const [submitAnswer, setSubmitAnswer] = useState([]);\n  useEffect(() => {\n    socket = io(ENDPOINT); // initially show all questions\n\n    socket.emit('getQuestion', {\n      id: id,\n      message: \"Get Question\"\n    }, message => {\n      console.log(\"getQuestion:\", message[\"question\"]);\n      setQuestion(message[\"question\"]);\n      setAnswers(message[\"question\"][\"answers\"]);\n    });\n    return () => {\n      socket.emit('disconnect');\n      socket.off();\n    };\n  }, [ENDPOINT, location.search]);\n\n  const renderRow = (attribute, value) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questionContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"questionBox\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"questionText\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: attribute\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 49\n          }, this), \": \", value]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)\n    }, attribute, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  };\n\n  useEffect(() => {\n    if (submitAnswer.length === 0) {\n      return;\n    }\n\n    socket.emit(\"addAnswer\", {\n      id: id,\n      answer: submitAnswer,\n      user: submitAnswer\n    }, message => {\n      console.log(\"create answer: \", message);\n    });\n  }, [submitAnswer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homeOuterContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeInnerContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"heading\",\n        children: [\"Question \", id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), renderRow(\"Title\", question[\"title\"]), renderRow(\"Description\", question[\"description\"]), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"answersHeading\",\n        children: \"Answers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answers\",\n        children: /*#__PURE__*/_jsxDEV(ScrollToBottom, {\n          children: answers.map((key, i) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"courseContainer\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"courseBox\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"sentText pl-10\",\n                  children: key[\"user\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"courseText\",\n                  children: key[\"answer\"]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"answersHeading\",\n        children: \"Answer it\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \" Enter your name here...\",\n        className: \"homeInput\",\n        type: \"text\",\n        onChange: event => setUser(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \" Enter your answer here...\",\n        className: \"homeInput\",\n        type: \"text\",\n        onChange: event => setAnswer(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button mt-20\",\n        type: \"submit\",\n        onClick: event => setSubmitAnswer(answer),\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Question, \"Ygh77SmLWNO7gX8QzdQNzflpbdM=\");\n\n_c = Question;\nexport default Question;\n\nvar _c;\n\n$RefreshReg$(_c, \"Question\");","map":{"version":3,"sources":["/Users/chichi/Desktop/cs411-project1/client/src/components/Question/Question.js"],"names":["React","useState","useEffect","queryString","io","SearchBox","Link","ScrollToBottom","socket","Question","location","id","parse","search","ENDPOINT","question","setQuestion","answers","setAnswers","answer","setAnswer","user","setUser","submitAnswer","setSubmitAnswer","emit","message","console","log","off","renderRow","attribute","value","length","map","key","i","event","target"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AAGA,OAAO,gBAAP;AAEA,IAAIC,MAAJ;;AAEA,MAAMC,QAAQ,GAAG,CAAE;AAACC,EAAAA;AAAD,CAAF,KAAkB;AAAA;;AAC/B,QAAM;AAAEC,IAAAA;AAAF,MAASR,WAAW,CAACS,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAf;AACA,QAAMC,QAAQ,GAAG,gBAAjB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACkB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACoB,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsB,YAAD,EAAeC,eAAf,IAAkCvB,QAAQ,CAAC,EAAD,CAAhD;AAGAC,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,MAAM,GAAGJ,EAAE,CAACU,QAAD,CAAX,CADY,CAGZ;;AACAN,IAAAA,MAAM,CAACiB,IAAP,CAAY,aAAZ,EAA2B;AAAEd,MAAAA,EAAE,EAAEA,EAAN;AAAUe,MAAAA,OAAO,EAAE;AAAnB,KAA3B,EAAiEA,OAAD,IAAa;AACzEC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,OAAO,CAAC,UAAD,CAAnC;AACAV,MAAAA,WAAW,CAACU,OAAO,CAAC,UAAD,CAAR,CAAX;AACAR,MAAAA,UAAU,CAACQ,OAAO,CAAC,UAAD,CAAP,CAAoB,SAApB,CAAD,CAAV;AACH,KAJD;AAMA,WAAO,MAAM;AACTlB,MAAAA,MAAM,CAACiB,IAAP,CAAY,YAAZ;AACAjB,MAAAA,MAAM,CAACqB,GAAP;AACH,KAHD;AAIH,GAdQ,EAcN,CAACf,QAAD,EAAWJ,QAAQ,CAACG,MAApB,CAdM,CAAT;;AAgBA,QAAMiB,SAAS,GAAG,CAACC,SAAD,EAAYC,KAAZ,KAAsB;AACpC,wBACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACI;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA,kCAA4B;AAAA,sBAAID;AAAJ;AAAA;AAAA;AAAA;AAAA,kBAA5B,QAAiDC,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,OAAwCD,SAAxC;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH,GARD;;AAUA7B,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIqB,YAAY,CAACU,MAAb,KAAwB,CAA5B,EAA+B;AAC3B;AACH;;AACDzB,IAAAA,MAAM,CAACiB,IAAP,CAAY,WAAZ,EAAyB;AAAEd,MAAAA,EAAE,EAAEA,EAAN;AAAUQ,MAAAA,MAAM,EAAEI,YAAlB;AAAgCF,MAAAA,IAAI,EAAEE;AAAtC,KAAzB,EAAgFG,OAAD,IAAY;AACvFC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,OAA/B;AACH,KAFD;AAIH,GARQ,EAQN,CAACH,YAAD,CARM,CAAT;AAWA,sBACA;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,SAAd;AAAA,gCAAkCZ,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAGKmB,SAAS,CAAC,OAAD,EAAUf,QAAQ,CAAC,OAAD,CAAlB,CAHd,EAIKe,SAAS,CAAC,aAAD,EAAgBf,QAAQ,CAAC,aAAD,CAAxB,CAJd,eAMI;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOK;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,+BACG,QAAC,cAAD;AAAA,oBACKE,OAAO,CAACiB,GAAR,CAAY,CAACC,GAAD,EAAMC,CAAN,KAAY;AACzB,gCACI;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,wCACI;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,4BAA+BD,GAAG,CAAC,MAAD;AAAlC;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAG,kBAAA,SAAS,EAAC,YAAb;AAAA,4BAA2BA,GAAG,CAAC,QAAD;AAA9B;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,eAAsCC,CAAtC;AAAA;AAAA;AAAA;AAAA,oBADJ;AAQC,WATA;AADL;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cAPL,eAqBK;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBL,eAsBK;AAAO,QAAA,WAAW,EAAC,0BAAnB;AAA8C,QAAA,SAAS,EAAC,WAAxD;AAAoE,QAAA,IAAI,EAAC,MAAzE;AAAgF,QAAA,QAAQ,EAAGC,KAAD,IAAWf,OAAO,CAACe,KAAK,CAACC,MAAN,CAAaN,KAAd;AAA5G;AAAA;AAAA;AAAA;AAAA,cAtBL,eAuBK;AAAO,QAAA,WAAW,EAAC,4BAAnB;AAAgD,QAAA,SAAS,EAAC,WAA1D;AAAsE,QAAA,IAAI,EAAC,MAA3E;AAAkF,QAAA,QAAQ,EAAGK,KAAD,IAAWjB,SAAS,CAACiB,KAAK,CAACC,MAAN,CAAaN,KAAd;AAAhH;AAAA;AAAA;AAAA;AAAA,cAvBL,eAwBK;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,IAAI,EAAC,QAAtC;AAA+C,QAAA,OAAO,EAAGK,KAAD,IAAWb,eAAe,CAACL,MAAD,CAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADA;AAgCH,CA/ED;;GAAMV,Q;;KAAAA,Q;AAiFN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport SearchBox from '../Home/SearchBox/SearchBox';\nimport { Link } from 'react-router-dom';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\n\nimport './Question.css';\n\nlet socket; \n\nconst Question = ( {location} ) => {\n    const { id } = queryString.parse(location.search);\n    const ENDPOINT = 'localhost:5000';\n    const [question, setQuestion] = useState({});\n    const [answers, setAnswers] = useState([]);\n    const [answer, setAnswer] = useState('');\n    const [user, setUser] = useState('');\n    const [submitAnswer, setSubmitAnswer] = useState([]);\n\n   \n    useEffect(() => {\n        socket = io(ENDPOINT);\n\n        // initially show all questions\n        socket.emit('getQuestion', { id: id, message: \"Get Question\" }, (message) => {\n            console.log(\"getQuestion:\", message[\"question\"]);\n            setQuestion(message[\"question\"]);\n            setAnswers(message[\"question\"][\"answers\"]);\n        });\n\n        return () => {\n            socket.emit('disconnect');\n            socket.off();\n        }\n    }, [ENDPOINT, location.search]); \n\n    const renderRow = (attribute, value) => {\n        return (\n            <div className=\"questionContainer\" key={attribute}>\n                <div className=\"questionBox\">\n                    <p className=\"questionText\"><b>{attribute}</b>: {value}</p>\n                </div>\n            </div>\n        );\n    }\n    \n    useEffect(() => {\n        if (submitAnswer.length === 0) {\n            return;\n        }\n        socket.emit(\"addAnswer\", { id: id, answer: submitAnswer, user: submitAnswer }, (message)=> {\n            console.log(\"create answer: \", message);\n        });\n        \n    }, [submitAnswer]);\n    \n\n    return (\n    <div className=\"homeOuterContainer\">\n        <div className=\"homeInnerContainer\">\n            <h2 className=\"heading\">Question {id}</h2>\n              \n            {renderRow(\"Title\", question[\"title\"])}\n            {renderRow(\"Description\", question[\"description\"])}\n            \n            <h2 className=\"answersHeading\">Answers</h2>\n             <div className=\"answers\">\n                <ScrollToBottom>\n                    {answers.map((key, i) => {\n                    return (\n                        <div className=\"courseContainer\" key={i}>\n                            <div className=\"courseBox\">\n                                <p className=\"sentText pl-10\">{key[\"user\"]}</p>\n                                <p className=\"courseText\">{key[\"answer\"]}</p>\n                            </div>\n                        </div>\n                        );\n                    })}\n                </ScrollToBottom>\n             </div>\n             <h2 className=\"answersHeading\">Answer it</h2>\n             <input placeholder=\" Enter your name here...\" className=\"homeInput\" type=\"text\" onChange={(event) => setUser(event.target.value)} />\n             <input placeholder=\" Enter your answer here...\" className=\"homeInput\" type=\"text\" onChange={(event) => setAnswer(event.target.value)} />\n             <button className=\"button mt-20\" type=\"submit\" onClick={(event) => setSubmitAnswer(answer)}>Submit</button>\n        </div>\n        \n\n    </div>\n    )\n}\n\nexport default Question;"]},"metadata":{},"sourceType":"module"}