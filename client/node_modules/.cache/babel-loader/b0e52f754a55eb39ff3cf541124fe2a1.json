{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/juefei/Desktop/cs510-course-project/client/src/components/Edit/Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport { Link } from 'react-router-dom';\nimport './Edit.css';\nlet socket;\n\nconst Edit = ({\n  location\n}) => {\n  _s();\n\n  const {\n    university,\n    course\n  } = queryString.parse(location.search);\n  const ENDPOINT = 'localhost:5000';\n  const [courseInfo, setCourseInfo] = useState({});\n  const [update, setUpdate] = useState([]);\n  const [show, setShow] = useState(false);\n  const [change, setChange] = useState({});\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    socket.emit('getCourse', {\n      message: \"getCourse\",\n      university,\n      course\n    }, message => {\n      console.log(\"getCourse:\", message[\"course\"]);\n      setCourseInfo(message[\"course\"]);\n    });\n    return () => {\n      socket.emit('disconnect');\n      socket.off();\n    };\n  }, [ENDPOINT, location.search]);\n  useEffect(() => {\n    if (update.length === 0) {\n      return;\n    }\n\n    socket.emit('updateCourse', {\n      message: \"updateCourse\",\n      university,\n      course,\n      attribute: update[0],\n      value: update[1]\n    }, message => {\n      console.log(message);\n    });\n    console.log(update);\n  }, [update]);\n\n  const handleChange = (name, e) => {\n    change[name] = e.target.value;\n    setChange(change);\n  };\n\n  const _renderObject = object => {\n    // unique key issue: https://stackoverflow.com/questions/28329382/understanding-unique-keys-for-array-children-in-react-js\n    return Object.keys(object).map((row, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"entryButton mt-20\",\n          type: \"submit\",\n          onClick: event => show ? setShow(false) : setShow(true),\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [row, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 125\n          }, this), \" \", object[row]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), show && row !== \"course\" && row !== \"University_Name\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Update value here...\",\n            className: \"editInput\",\n            type: \"text\",\n            onChange: event => handleChange(`input-${i}`, event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button mt-20\",\n            type: \"submit\",\n            onClick: event => setUpdate([row, change[`input-${i}`]]),\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 23\n        }, this) : null]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editOuterContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"heading\",\n      children: \"Edit Course Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editInnerContainer\",\n      children: [_renderObject(courseInfo), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button mt-20\",\n          type: \"submit\",\n          children: \"Return\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Edit, \"68Tud42NuYQActWtKpa5mUZTVLI=\");\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["/Users/juefei/Desktop/cs510-course-project/client/src/components/Edit/Edit.js"],"names":["React","useState","useEffect","queryString","io","Link","socket","Edit","location","university","course","parse","search","ENDPOINT","courseInfo","setCourseInfo","update","setUpdate","show","setShow","change","setChange","emit","message","console","log","off","length","attribute","value","handleChange","name","e","target","_renderObject","object","Object","keys","map","row","i","event"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport { Link } from 'react-router-dom';\n\nimport './Edit.css';\n\nlet socket; \n\n\nconst Edit = ( {location} ) => {\n    const { university, course } = queryString.parse(location.search);\n    const ENDPOINT = 'localhost:5000';\n    const [courseInfo, setCourseInfo] = useState({});\n    const [update, setUpdate] = useState([]);\n    const [show, setShow] = useState(false);\n    const [change, setChange] = useState({});\n\n    useEffect(() => {\n        socket = io(ENDPOINT);\n\n        socket.emit('getCourse', { message: \"getCourse\", university, course }, (message) => {\n            console.log(\"getCourse:\", message[\"course\"]);\n            setCourseInfo(message[\"course\"]);\n        });\n\n        return () => {\n            socket.emit('disconnect');\n            socket.off();\n        }\n    }, [ENDPOINT, location.search]);   \n\n    useEffect(() => {\n        if (update.length === 0) {\n            return;\n        }\n        socket.emit('updateCourse', { message: \"updateCourse\", university, course, attribute: update[0], value: update[1] }, (message) => {\n            console.log(message);\n        });\n        console.log(update);\n    }, [update]);\n\n    const handleChange = (name, e) => {\n        change[name] = e.target.value;\n        setChange(change);\n      }\n\n    const _renderObject = (object) => {\n\t\t// unique key issue: https://stackoverflow.com/questions/28329382/understanding-unique-keys-for-array-children-in-react-js\n        return Object.keys(object).map((row, i) => {\n            return (\n            <div key={i}>\n            <button className=\"entryButton mt-20\" type=\"submit\" onClick={(event) => show ? setShow(false) : setShow(true)}> <b>{row}:</b> {object[row]}</button>\n                { (show && row !== \"course\" && row !== \"University_Name\")\n                    ? <div> \n                        <input placeholder=\"Update value here...\" className=\"editInput\" type=\"text\" \n                            onChange={(event) => handleChange(`input-${i}`, event)}/> \n                        <button className=\"button mt-20\" type=\"submit\" onClick={(event) => setUpdate([row,change[`input-${i}`]])}>Submit</button>\n                    </div>\n                    : null \n                }\n            </div>\n            )\n        })\n    }\n    \n\n    return (\n    <div className=\"editOuterContainer\">\n        <h2 className=\"heading\">Edit Course Info</h2>\n        <div className=\"editInnerContainer\">\n            {_renderObject(courseInfo)}\n            <Link to=\"/\">\n                <button className=\"button mt-20\" type=\"submit\">Return</button>\n            </Link>\n\n        </div>\n    </div>\n    )\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}